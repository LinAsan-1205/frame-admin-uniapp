<template>
  <view class="component-page">
    <view class="page-header">
      <text class="page-title">NavBar 导航栏</text>
      <text class="page-desc">页面顶部的导航栏组件</text>
    </view>

    <view class="demo-section">
      <view class="section-header">
        <text class="section-title">基础用法</text>
      </view>
      <view class="section-content">
        <view class="nav-demo">
          <frame-nav-bar title="标题" :fixed="false" />
        </view>
      </view>
    </view>

    <view class="demo-section">
      <view class="section-header">
        <text class="section-title">返回按钮</text>
      </view>
      <view class="section-content">
        <view class="nav-demo">
          <frame-nav-bar 
            title="标题" 
            :fixed="false"
            :show-left="true"
            left-icon="arrow-left"
            @click-left="handleBack"
          />
        </view>
      </view>
    </view>

    <view class="demo-section">
      <view class="section-header">
        <text class="section-title">右侧按钮</text>
      </view>
      <view class="section-content">
        <view class="nav-demo">
          <frame-nav-bar 
            title="标题"
            :fixed="false"
            :show-right="true"
            right-text="按钮"
            @click-right="handleRightClick"
          />
        </view>
      </view>
    </view>

    <view class="demo-section">
      <view class="section-header">
        <text class="section-title">自定义颜色</text>
      </view>
      <view class="section-content">
        <view class="nav-demo">
          <frame-nav-bar 
            title="标题"
            :fixed="false"
            :show-left="true"
            left-icon="arrow-left"
            bg-color="#2563eb"
            color="#ffffff"
          />
        </view>
      </view>
    </view>

    <view class="demo-section">
      <view class="section-header">
        <text class="section-title">带边框</text>
      </view>
      <view class="section-content">
        <view class="nav-demo">
          <frame-nav-bar 
            title="标题"
            :fixed="false"
            :border="true"
            :show-left="true"
            left-icon="arrow-left"
          />
        </view>
      </view>
    </view>

    <view class="demo-section">
      <view class="section-header">
        <text class="section-title">插槽使用</text>
      </view>
      <view class="section-content">
        <!-- 自定义标题 -->
        <text class="demo-label">自定义标题：</text>
        <view class="nav-demo">
          <frame-nav-bar 
            :fixed="false"
            :show-left="true"
            left-icon="arrow-left"
          >
            <view class="custom-title">
              <view class="i-mdi-star title-icon" />
              <text class="title-text">自定义标题</text>
            </view>
          </frame-nav-bar>
        </view>

        <!-- 自定义左侧 -->
        <text class="demo-label">自定义左侧：</text>
        <view class="nav-demo">
          <frame-nav-bar 
            title="标题"
            :fixed="false"
          >
            <template #left>
              <view class="custom-left" @click="handleBack">
                <view class="i-mdi-menu nav-icon" />
                <text class="nav-text">菜单</text>
              </view>
            </template>
          </frame-nav-bar>
        </view>

        <!-- 自定义右侧 -->
        <text class="demo-label">自定义右侧：</text>
        <view class="nav-demo">
          <frame-nav-bar 
            title="标题"
            :fixed="false"
            :show-left="true"
            left-icon="arrow-left"
          >
            <template #right>
              <view class="custom-right">
                <view class="i-mdi-magnify nav-icon" @click="handleSearch" />
                <view class="i-mdi-dots-vertical nav-icon" @click="handleMore" />
              </view>
            </template>
          </frame-nav-bar>
        </view>

        <!-- 完全自定义 -->
        <text class="demo-label">完全自定义：</text>
        <view class="nav-demo">
          <frame-nav-bar 
            :fixed="false"
            bg-color="#10b981"
            color="#ffffff"
          >
            <template #left>
              <view class="custom-left" @click="handleBack">
                <view class="i-mdi-arrow-left nav-icon white" />
              </view>
            </template>
            <view class="custom-title-full">
              <text class="title-main">订单详情</text>
              <text class="title-sub">待支付</text>
            </view>
            <template #right>
              <view class="custom-right">
                <view class="i-mdi-share-variant nav-icon white" @click="handleShare" />
              </view>
            </template>
          </frame-nav-bar>
        </view>
      </view>
    </view>

    <view class="demo-section">
      <view class="section-header">
        <text class="section-title">API 属性</text>
      </view>
      <view class="api-list">
        <view class="api-item">
          <text class="api-name">title</text>
          <text class="api-type">string</text>
          <text class="api-desc">标题</text>
        </view>
        <view class="api-item">
          <text class="api-name">show-left</text>
          <text class="api-type">boolean</text>
          <text class="api-desc">是否显示左侧内容，默认 true</text>
        </view>
        <view class="api-item">
          <text class="api-name">left-icon</text>
          <text class="api-type">string</text>
          <text class="api-desc">左侧图标，默认 'arrow-left'</text>
        </view>
        <view class="api-item">
          <text class="api-name">left-text</text>
          <text class="api-type">string</text>
          <text class="api-desc">左侧文字</text>
        </view>
        <view class="api-item">
          <text class="api-name">show-right</text>
          <text class="api-type">boolean</text>
          <text class="api-desc">是否显示右侧内容，默认 false</text>
        </view>
        <view class="api-item">
          <text class="api-name">right-icon</text>
          <text class="api-type">string</text>
          <text class="api-desc">右侧图标</text>
        </view>
        <view class="api-item">
          <text class="api-name">right-text</text>
          <text class="api-type">string</text>
          <text class="api-desc">右侧文字</text>
        </view>
        <view class="api-item">
          <text class="api-name">bg-color</text>
          <text class="api-type">string</text>
          <text class="api-desc">背景颜色，默认 '#ffffff'</text>
        </view>
        <view class="api-item">
          <text class="api-name">color</text>
          <text class="api-type">string</text>
          <text class="api-desc">文字颜色，默认 '#1a1a1a'</text>
        </view>
        <view class="api-item">
          <text class="api-name">border</text>
          <text class="api-type">boolean</text>
          <text class="api-desc">是否显示下边框，默认 false</text>
        </view>
        <view class="api-item">
          <text class="api-name">fixed</text>
          <text class="api-type">boolean</text>
          <text class="api-desc">是否固定在顶部，默认 true</text>
        </view>
      </view>
    </view>

    <view class="demo-section">
      <view class="section-header">
        <text class="section-title">API 插槽</text>
      </view>
      <view class="api-list">
        <view class="api-item">
          <text class="api-name">default</text>
          <text class="api-type">slot</text>
          <text class="api-desc">自定义标题内容</text>
        </view>
        <view class="api-item">
          <text class="api-name">left</text>
          <text class="api-type">slot</text>
          <text class="api-desc">自定义左侧内容</text>
        </view>
        <view class="api-item">
          <text class="api-name">right</text>
          <text class="api-type">slot</text>
          <text class="api-desc">自定义右侧内容</text>
        </view>
      </view>
    </view>

    <view class="demo-section">
      <view class="section-header">
        <text class="section-title">API 事件</text>
      </view>
      <view class="api-list">
        <view class="api-item">
          <text class="api-name">click-left</text>
          <text class="api-type">event</text>
          <text class="api-desc">点击左侧按钮时触发</text>
        </view>
        <view class="api-item">
          <text class="api-name">click-title</text>
          <text class="api-type">event</text>
          <text class="api-desc">点击标题时触发</text>
        </view>
        <view class="api-item">
          <text class="api-name">click-right</text>
          <text class="api-type">event</text>
          <text class="api-desc">点击右侧按钮时触发</text>
        </view>
        <view class="api-item">
          <text class="api-name">click-home</text>
          <text class="api-type">event</text>
          <text class="api-desc">点击首页图标时触发</text>
        </view>
      </view>
    </view>
  </view>
</template>

<script setup lang="ts">
function handleBack() {
  uni.showToast({
    title: '点击返回',
    icon: 'none',
  })
}

function handleRightClick() {
  uni.showToast({
    title: '点击右侧按钮',
    icon: 'none',
  })
}

function handleSearch() {
  uni.showToast({
    title: '点击搜索',
    icon: 'none',
  })
}

function handleMore() {
  uni.showToast({
    title: '点击更多',
    icon: 'none',
  })
}

function handleShare() {
  uni.showToast({
    title: '点击分享',
    icon: 'none',
  })
}
</script>

<style scoped lang="scss">
.component-page {
  min-height: 100vh;
  background: var(--fui-color-bg-primary);
  padding: 32rpx;
  padding-bottom: 100rpx;
}

.page-header {
  padding: 40rpx 0;
  margin-bottom: 32rpx;
}

.page-title {
  font-size: 48rpx;
  font-weight: 700;
  color: var(--fui-color-text-primary);
  display: block;
  margin-bottom: 16rpx;
}

.page-desc {
  font-size: 28rpx;
  color: var(--fui-color-text-secondary);
  display: block;
  line-height: 1.6;
}

.demo-section {
  background: var(--fui-color-surface);
  border-radius: 24rpx;
  padding: 32rpx;
  margin-bottom: 24rpx;
  box-shadow: 0 4rpx 16rpx rgba(0, 0, 0, 0.04);
}

.section-header {
  margin-bottom: 24rpx;
  padding-bottom: 16rpx;
  border-bottom: 2rpx solid var(--fui-color-border);
}

.section-title {
  font-size: 32rpx;
  font-weight: 600;
  color: var(--fui-color-text-primary);
  display: block;
}

.section-content {
  display: flex;
  flex-direction: column;
  gap: 24rpx;
}

.nav-demo {
  border: 1rpx solid var(--fui-color-border);
  border-radius: 12rpx;
  overflow: hidden;
  background: var(--fui-color-bg-primary);
}

.demo-label {
  font-size: 26rpx;
  font-weight: 500;
  color: var(--fui-color-text-secondary);
  margin-top: 8rpx;
}

/* 自定义标题 */
.custom-title {
  display: flex;
  align-items: center;
  gap: 8rpx;
}

.title-icon {
  font-size: 32rpx;
  color: #f59e0b;
}

.title-text {
  font-size: 32rpx;
  font-weight: 600;
}

/* 自定义左侧 */
.custom-left {
  display: flex;
  align-items: center;
  gap: 8rpx;
  cursor: pointer;
  transition: opacity 0.2s;
}

.custom-left:active {
  opacity: 0.6;
}

.nav-icon {
  font-size: 40rpx;
  
  &.white {
    color: #ffffff;
  }
}

.nav-text {
  font-size: 28rpx;
}

/* 自定义右侧 */
.custom-right {
  display: flex;
  align-items: center;
  gap: 24rpx;
}

/* 完全自定义标题 */
.custom-title-full {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4rpx;
}

.title-main {
  font-size: 32rpx;
  font-weight: 600;
  color: #ffffff;
}

.title-sub {
  font-size: 22rpx;
  color: rgba(255, 255, 255, 0.8);
}

.api-list {
  display: flex;
  flex-direction: column;
  gap: 16rpx;
}

.api-item {
  padding: 24rpx;
  background: var(--fui-color-surface-muted);
  border-radius: 16rpx;
  border: 1rpx solid var(--fui-color-border);
}

.api-name {
  display: block;
  font-size: 28rpx;
  font-weight: 600;
  color: var(--fui-color-primary);
  font-family: 'Monaco', 'Menlo', 'Consolas', monospace;
  margin-bottom: 8rpx;
}

.api-type {
  display: inline-block;
  padding: 4rpx 12rpx;
  background: var(--fui-color-primary);
  color: #ffffff;
  border-radius: 8rpx;
  font-size: 22rpx;
  margin-bottom: 12rpx;
}

.api-desc {
  display: block;
  font-size: 24rpx;
  color: var(--fui-color-text-secondary);
  line-height: 1.6;
  margin-top: 8rpx;
}
</style>
