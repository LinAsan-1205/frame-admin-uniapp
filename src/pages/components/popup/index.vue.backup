<template>
  <view class="component-page">
    <view class="page-header">
      <text class="page-title">Popup 弹出层</text>
      <text class="page-desc">从不同方向弹出的浮层容器</text>
    </view>

    <view class="demo-section">
      <view class="section-header">
        <text class="section-title">弹出位置</text>
      </view>
      <view class="section-content">
        <frame-space :size="12" :wrap="true">
          <frame-button size="small" @click="showPopup('top')">
            顶部弹出
          </frame-button>
          <frame-button size="small" @click="showPopup('bottom')">
            底部弹出
          </frame-button>
          <frame-button size="small" @click="showPopup('left')">
            左侧弹出
          </frame-button>
          <frame-button size="small" @click="showPopup('right')">
            右侧弹出
          </frame-button>
          <frame-button size="small" @click="showPopup('center')">
            居中弹出
          </frame-button>
        </frame-space>
      </view>
    </view>

    <view class="demo-section">
      <view class="section-header">
        <text class="section-title">圆角弹出</text>
      </view>
      <view class="section-content">
        <frame-space :size="12" :wrap="true">
          <frame-button size="small" @click="showRoundPopup('bottom')">
            底部圆角
          </frame-button>
          <frame-button size="small" @click="showRoundPopup('center')">
            居中圆角
          </frame-button>
        </frame-space>
      </view>
    </view>

    <view class="demo-section">
      <view class="section-header">
        <text class="section-title">API 属性</text>
      </view>
      <view class="api-list">
        <view class="api-item">
          <text class="api-name">show</text>
          <text class="api-type">boolean</text>
          <text class="api-desc">是否显示弹出层</text>
        </view>
        <view class="api-item">
          <text class="api-name">position</text>
          <text class="api-type">string</text>
          <text class="api-desc">弹出位置：top | bottom | left | right | center</text>
        </view>
        <view class="api-item">
          <text class="api-name">round</text>
          <text class="api-type">boolean</text>
          <text class="api-desc">是否显示圆角</text>
        </view>
        <view class="api-item">
          <text class="api-name">height</text>
          <text class="api-type">string</text>
          <text class="api-desc">弹出层高度</text>
        </view>
        <view class="api-item">
          <text class="api-name">width</text>
          <text class="api-type">string</text>
          <text class="api-desc">弹出层宽度</text>
        </view>
      </view>
    </view>

    <!-- 弹出层组件 -->
    <frame-popup
      :show="popupShow"
      :position="popupPosition"
      :round="popupRound"
      :height="popupHeight"
      :width="popupWidth"
      @close="popupShow = false"
    >
      <view class="popup-content">
        <text class="popup-title">{{ popupPosition }} 弹出层</text>
        <text class="popup-desc">这是弹出层的内容区域</text>
        <frame-button size="small" @click="popupShow = false">
          关闭
        </frame-button>
      </view>
    </frame-popup>
  </view>
</template>

<script setup lang="ts">
import { ref } from 'vue'

const popupShow = ref(false)
const popupPosition = ref<'top' | 'bottom' | 'left' | 'right' | 'center'>('bottom')
const popupRound = ref(false)
const popupHeight = ref('')
const popupWidth = ref('')

function showPopup(position: 'top' | 'bottom' | 'left' | 'right' | 'center') {
  popupPosition.value = position
  popupRound.value = false
  popupHeight.value = position === 'top' || position === 'bottom' ? '40vh' : ''
  popupWidth.value = position === 'left' || position === 'right' ? '70vw' : ''
  popupShow.value = true
}

function showRoundPopup(position: 'bottom' | 'center') {
  popupPosition.value = position
  popupRound.value = true
  popupHeight.value = position === 'bottom' ? '40vh' : ''
  popupWidth.value = ''
  popupShow.value = true
}
</script>

<style scoped lang="scss">
.component-page {
  min-height: 100vh;
  background: var(--fui-color-bg-primary);
  padding: 32rpx;
  padding-bottom: 100rpx;
}

.page-header {
  padding: 40rpx 0;
  margin-bottom: 32rpx;
}

.page-title {
  font-size: 48rpx;
  font-weight: 700;
  color: var(--fui-color-text-primary);
  display: block;
  margin-bottom: 16rpx;
}

.page-desc {
  font-size: 28rpx;
  color: var(--fui-color-text-secondary);
  display: block;
  line-height: 1.6;
}

.demo-section {
  background: var(--fui-color-surface);
  border-radius: 24rpx;
  padding: 32rpx;
  margin-bottom: 24rpx;
  box-shadow: 0 4rpx 16rpx rgba(0, 0, 0, 0.04);
}

.section-header {
  margin-bottom: 24rpx;
  padding-bottom: 16rpx;
  border-bottom: 2rpx solid var(--fui-color-border);
}

.section-title {
  font-size: 32rpx;
  font-weight: 600;
  color: var(--fui-color-text-primary);
  display: block;
}

.section-content {
  display: flex;
  flex-direction: column;
  gap: 24rpx;
}

.popup-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 24rpx;
  padding: 48rpx 32rpx;
}

.popup-title {
  font-size: 32rpx;
  font-weight: 600;
  color: var(--fui-color-text-primary);
}

.popup-desc {
  font-size: 28rpx;
  color: var(--fui-color-text-secondary);
  text-align: center;
}

.api-list {
  display: flex;
  flex-direction: column;
  gap: 16rpx;
}

.api-item {
  padding: 24rpx;
  background: var(--fui-color-surface-muted);
  border-radius: 16rpx;
  border: 1rpx solid var(--fui-color-border);
}

.api-name {
  display: block;
  font-size: 28rpx;
  font-weight: 600;
  color: var(--fui-color-primary);
  font-family: 'Monaco', 'Menlo', 'Consolas', monospace;
  margin-bottom: 8rpx;
}

.api-type {
  display: inline-block;
  padding: 4rpx 12rpx;
  background: var(--fui-color-primary);
  color: #ffffff;
  border-radius: 8rpx;
  font-size: 22rpx;
  margin-bottom: 12rpx;
}

.api-desc {
  display: block;
  font-size: 24rpx;
  color: var(--fui-color-text-secondary);
  line-height: 1.6;
  margin-top: 8rpx;
}
</style>
